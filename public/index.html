<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UC Oracle - Your Intelligent Assistant</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css?v=4">
</head>
<body>
    <!-- Ambient Background Effects -->
    <div class="ambient-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
        <div class="grid-overlay"></div>
        <div class="noise-overlay"></div>
        <canvas id="particleCanvas"></canvas>
    </div>

    <!-- Main Application -->
    <div class="app-container">
        <!-- Floating Header -->
        <header class="floating-header">
            <div class="header-left">
                <div class="brand-mark">
                    <div class="brand-icon">
                        <div class="icon-core"></div>
                        <div class="icon-ring ring-1"></div>
                        <div class="icon-ring ring-2"></div>
                        <div class="icon-pulse"></div>
                    </div>
                    <div class="brand-text">
                        <span class="brand-name">Oracle</span>
                        <span class="brand-tag">UC Leeds AI Assistant</span>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <div class="connection-status" id="connectionStatus">
                    <div class="status-beacon"></div>
                    <span class="status-label">Initializing...</span>
                </div>
            </div>
            
            <div class="header-right">
                <button class="icon-btn" id="themeToggle" aria-label="Toggle theme">
                    <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
                <button class="icon-btn" id="settingsBtn" aria-label="Settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Chat Interface -->
        <main class="chat-interface">
            <!-- Messages Area -->
            <div class="messages-container" id="chatMessages">
                <!-- Welcome Experience -->
                <div class="welcome-experience" id="welcomeExperience">
                    <div class="welcome-visual">
                        <div class="oracle-emblem">
                            <div class="emblem-outer">
                                <svg viewBox="0 0 100 100">
                                    <defs>
                                        <linearGradient id="emblemGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#00bdee"/>
                                            <stop offset="50%" style="stop-color:#00e5ff"/>
                                            <stop offset="100%" style="stop-color:#00fff2"/>
                                        </linearGradient>
                                    </defs>
                                    <circle class="emblem-track" cx="50" cy="50" r="45"/>
                                    <circle class="emblem-progress" cx="50" cy="50" r="45"/>
                                </svg>
                            </div>
                            <div class="emblem-ring ring-outer"></div>
                            <div class="emblem-ring ring-middle"></div>
                            <div class="emblem-inner">
                                <div class="ai-brain">
                                    <!-- Neural Network Brain Icon -->
                                    <svg viewBox="0 0 64 64" fill="none">
                                        <!-- Central core -->
                                        <circle cx="32" cy="32" r="8" fill="url(#brainGrad)" class="brain-core"/>
                                        
                                        <!-- Neural nodes -->
                                        <circle cx="32" cy="12" r="4" fill="#00e5ff" class="neural-node n1"/>
                                        <circle cx="50" cy="20" r="4" fill="#00e5ff" class="neural-node n2"/>
                                        <circle cx="52" cy="40" r="4" fill="#00e5ff" class="neural-node n3"/>
                                        <circle cx="40" cy="54" r="4" fill="#00e5ff" class="neural-node n4"/>
                                        <circle cx="24" cy="54" r="4" fill="#00e5ff" class="neural-node n5"/>
                                        <circle cx="12" cy="40" r="4" fill="#00e5ff" class="neural-node n6"/>
                                        <circle cx="14" cy="20" r="4" fill="#00e5ff" class="neural-node n7"/>
                                        
                                        <!-- Neural connections -->
                                        <line x1="32" y1="24" x2="32" y2="16" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        <line x1="38" y1="26" x2="46" y2="22" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        <line x1="40" y1="34" x2="48" y2="38" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        <line x1="36" y1="38" x2="38" y2="50" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        <line x1="28" y1="38" x2="26" y2="50" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        <line x1="24" y1="34" x2="16" y2="38" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        <line x1="26" y1="26" x2="18" y2="22" stroke="#00bdee" stroke-width="2" class="synapse"/>
                                        
                                        <defs>
                                            <radialGradient id="brainGrad" cx="50%" cy="50%" r="50%">
                                                <stop offset="0%" style="stop-color:#00fff2"/>
                                                <stop offset="100%" style="stop-color:#00bdee"/>
                                            </radialGradient>
                                        </defs>
                                    </svg>
                                </div>
                            </div>
                            <div class="emblem-glow"></div>
                            <div class="emblem-particles">
                                <span></span><span></span><span></span>
                                <span></span><span></span><span></span>
                                <span></span><span></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="welcome-content">
                        <h1 class="welcome-title">
                            <span class="title-line">Hello, I'm</span>
                            <span class="title-highlight">Oracle</span>
                        </h1>
                        <p class="welcome-subtitle">Your intelligent course assistant powered by advanced AI</p>
                        
                        <div class="quick-actions">
                            <button class="quick-action" data-query="What modules are available?">
                                <span class="qa-icon">üìö</span>
                                <span class="qa-text">Explore Modules</span>
                            </button>
                            <button class="quick-action" data-query="What are my upcoming deadlines?">
                                <span class="qa-icon">‚è∞</span>
                                <span class="qa-text">Check Deadlines</span>
                            </button>
                            <button class="quick-action" data-query="Who are my tutors?">
                                <span class="qa-icon">üë®‚Äçüè´</span>
                                <span class="qa-text">Find Tutors</span>
                            </button>
                            <button class="quick-action" data-query="Tell me about assessments">
                                <span class="qa-icon">üìù</span>
                                <span class="qa-text">View Assessments</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="welcome-hint">
                        <div class="hint-icon">üí°</div>
                        <p>Tip: I remember our conversation, so feel free to ask follow-up questions!</p>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="input-glow"></div>
                <div class="input-wrapper">
                    <div class="input-actions-left">
                        <button class="input-action-btn" id="uploadBtn" aria-label="Upload document">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" y1="3" x2="12" y2="15"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="input-field-container">
                        <textarea 
                            id="messageInput" 
                            placeholder="Ask me anything about your courses..."
                            rows="1"
                            maxlength="2000"
                        ></textarea>
                        <div class="typing-indicator" id="typingIndicator">
                            <span></span><span></span><span></span>
                        </div>
                    </div>
                    
                    <button class="send-btn" id="sendButton" aria-label="Send message">
                        <div class="send-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 2L11 13"/>
                                <path d="M22 2L15 22L11 13L2 9L22 2Z"/>
                            </svg>
                        </div>
                        <div class="send-loader">
                            <div class="loader-ring"></div>
                        </div>
                    </button>
                </div>
                
                <div class="input-footer">
                    <div class="char-count">
                        <span id="charCount">0</span>/2000
                    </div>
                    <div class="session-stats">
                        <span class="stat"><span class="stat-num" id="messageCount">0</span> messages</span>
                        <span class="stat-divider">‚Ä¢</span>
                        <span class="stat"><span class="stat-num" id="avgResponse">-</span> avg</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Side Panel -->
        <aside class="side-panel" id="sidePanel">
            <div class="panel-header">
                <h2>Knowledge Base</h2>
                <button class="panel-close" id="closePanelBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="panel-content">
                <div class="panel-section">
                    <h3>üì§ Upload Document</h3>
                    <p class="section-desc">Expand my knowledge with new information</p>
                    <textarea 
                        id="documentInput" 
                        placeholder="Paste document text here..."
                        rows="5"
                    ></textarea>
                    <button class="action-btn primary" id="uploadButton">
                        <span>Upload to Knowledge Base</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                    <div id="uploadStatus" class="upload-status"></div>
                </div>
                
                <div class="panel-section">
                    <h3>üí° Quick Tips</h3>
                    <ul class="tips-list">
                        <li>
                            <span class="tip-icon">üí¨</span>
                            <span>Ask follow-up questions - I remember context</span>
                        </li>
                        <li>
                            <span class="tip-icon">üîç</span>
                            <span>Hover underlined terms for definitions</span>
                        </li>
                        <li>
                            <span class="tip-icon">üéØ</span>
                            <span>Be specific for better answers</span>
                        </li>
                        <li>
                            <span class="tip-icon">üìä</span>
                            <span>I use semantic search to find relevant info</span>
                        </li>
                    </ul>
                </div>
                
                <div class="panel-section stats-section">
                    <h3>üìä Session</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="statMessages">0</div>
                            <div class="stat-label">Messages</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statAvgTime">-</div>
                            <div class="stat-label">Avg Response</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="statContext">0</div>
                            <div class="stat-label">Context Size</div>
                        </div>
                    </div>
                    <button class="action-btn secondary" id="clearChatButton">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/>
                        </svg>
                        <span>Clear Conversation</span>
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
    <script src="particles.js"></script>
    <script src="app.js"></script>
</body>
</html>
